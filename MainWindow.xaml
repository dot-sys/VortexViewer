<Window
    x:Class="Vortex.UI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
    xmlns:vm="clr-namespace:Vortex.UI.ViewModels"
    xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
    ui:WindowHelper.UseModernWindowStyle="True"
    ui:WindowHelper.SystemBackdropType="Mica"
    ResizeMode="CanResize"
    Title="Vortex Dashboard" Height="800" Width="1400">

  <Window.Resources>
    <!-- Apply WindowChrome with no resize border -->
    <shell:WindowChrome x:Key="MyChrome"
                        ResizeBorderThickness="0"
                        CaptionHeight="30"
                        GlassFrameThickness="0"
                        UseAeroCaptionButtons="True"/>
  </Window.Resources>
  
  <shell:WindowChrome.WindowChrome>
    <StaticResource ResourceKey="MyChrome"/>
  </shell:WindowChrome.WindowChrome>
  
  <Window.DataContext>
    <vm:MainWindowViewModel/>
  </Window.DataContext>
  
  <Grid>
    <!-- Title bar background replacement -->
    <Rectangle Height="25" VerticalAlignment="Top" Fill="#2E8B57" Panel.ZIndex="1"/>
    
    <!-- Circular background behind PNG -->
    <Ellipse Width="50" Height="50" 
             Fill="#2E8B57" 
             HorizontalAlignment="Center" 
             VerticalAlignment="Top"
             Margin="0,0,0,0"
             Panel.ZIndex="1000"/>
    
    <!-- PNG Overlay - positioned to span title bar boundary -->
    <Image Source="/Assets/VortexWhiteLogo40.png" 
           Width="35" Height="35" 
           HorizontalAlignment="Center" 
           VerticalAlignment="Top"
           Margin="0,10,0,0"
           Panel.ZIndex="99999"/>
    
    <!-- Left Navigation Rectangles with Dark Red Placeholder -->
    <StackPanel Orientation="Horizontal" 
                HorizontalAlignment="Center" 
                VerticalAlignment="Top"
                Margin="0,20,320,0">
      
      <!-- Dark Red Placeholder (25x25) -->
      <Border Width="25" Height="25" 
              Background="DarkRed" 
              CornerRadius="5"
              Margin="0,0,10,0">
        <TextBlock Text="!" 
                   Foreground="White" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Center"
                   FontWeight="Bold"/>
      </Border>
      
      <!-- Navigation Button 1 (Dashboard) -->
      <Button Width="100" Height="25" 
              Background="#2E8B57" 
              BorderThickness="0"
              Command="{Binding NavigateToDashboardCommand}"
              Margin="0,0,5,0"
              Style="{DynamicResource DefaultButtonStyle}">
        <Button.Template>
          <ControlTemplate TargetType="Button">
            <Border Background="{TemplateBinding Background}" CornerRadius="5">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
          </ControlTemplate>
        </Button.Template>
        <TextBlock Text="Dashboard" 
                   Foreground="White" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Center"/>
      </Button>
      
      <!-- Navigation Button 2 (Journal) -->
      <Button Width="100" Height="25" 
              Background="#2E8B57" 
              BorderThickness="0"
              Command="{Binding NavigateToJournalCommand}"
              Style="{DynamicResource DefaultButtonStyle}">
        <Button.Template>
          <ControlTemplate TargetType="Button">
            <Border Background="{TemplateBinding Background}" CornerRadius="5">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
          </ControlTemplate>
        </Button.Template>
        <TextBlock Text="Journal" 
                   Foreground="White" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Center"/>
      </Button>
    </StackPanel>
    
    <!-- Right Navigation Rectangles -->
    <StackPanel Orientation="Horizontal" 
                HorizontalAlignment="Center" 
                VerticalAlignment="Top"
                Margin="275,20,0,0">
      <Button Width="100" Height="25" 
              Background="#2E8B57" 
              BorderThickness="0"
              Command="{Binding NavigateToPlaceholder3Command}"
              Margin="0,0,5,0"
              Style="{DynamicResource DefaultButtonStyle}">
        <Button.Template>
          <ControlTemplate TargetType="Button">
            <Border Background="{TemplateBinding Background}" CornerRadius="5">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
          </ControlTemplate>
        </Button.Template>
        <TextBlock Text="Placeholder3" 
                   Foreground="White" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Center"/>
      </Button>
      
      <Button Width="100" Height="25" 
              Background="#2E8B57" 
              BorderThickness="0"
              Command="{Binding NavigateToPlaceholder4Command}"
              Margin="2.5,0,0,0"
              Style="{DynamicResource DefaultButtonStyle}">
        <Button.Template>
          <ControlTemplate TargetType="Button">
            <Border Background="{TemplateBinding Background}" CornerRadius="5">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
          </ControlTemplate>
        </Button.Template>
        <TextBlock Text="Placeholder4" 
                   Foreground="White" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Center"/>
      </Button>
    </StackPanel>
    
    <!-- Frame for Page Navigation -->
    <Frame x:Name="MainFrame" 
           Margin="16,60,16,16"
           NavigationUIVisibility="Hidden"
           JournalOwnership="OwnsJournal"/>
  </Grid>
</Window>